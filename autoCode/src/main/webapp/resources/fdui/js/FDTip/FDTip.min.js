var FDTip=function(a){FDLib.implement(this,FDControl);this.options=FDLib.util.apply(this.getOptions(),a);this.delayTimeout=null;this.target=null;this.originalTitle=null;this.x=0;this.y=0;this.delay=this.options.delay;this.offsetX=this.options.offsetX;this.offsetY=this.options.offsetY;this.tipDiv=document.createElement(FDTag.DIV);this.tipDiv.style.display="none";this.tipDiv.className="pui-tooltip pui-tooltip-global ui-widget ui-widget-content ui-corner-all pui-shadow";document.body.appendChild(this.tipDiv)};FDTip.prototype={getOptions:function(){return{delay:500,offsetX:0,offsetY:15}},show:function(c,d,a,f){c=FDLib.event.formatEvent(c);this.target=c.target;this._backupTargetTitle();d=this._insureTextExist(d);if(this.delay===0){this.doShow(c,d);return}if(this.delayTimeout==null){var b=this;this.delayTimeout=setTimeout(function(){b.doShow(c,d,a,f)},this.delay)}},hide:function(){this._restoreTargetTitle();this.reset();this.tipDiv.style.display="none"},_insureTextExist:function(a){if(typeof a==="undefined"){a=this.originalTitle}return a},_backupTargetTitle:function(){if(this.target.title){this.originalTitle=this.target.title;this.target.title=""}},_restoreTargetTitle:function(){if(this.originalTitle){this.target.title=this.originalTitle;this.originalTitle=null}},doShow:function(b,c,a,d){this.tipDiv.innerHTML=c;this.x=this.x||b.pageX;this.y=this.y||b.pageY;this.tipDiv.style.left=(this.x+this.offsetX)+"px";this.tipDiv.style.top=(this.y+this.offsetY)+"px";this.tipDiv.style.display="block"},setXY:function(a,b){this.x=a;this.y=b},reset:function(){clearTimeout(this.delayTimeout);this.delayTimeout=null;this.originalTitle=null;this.x=0;this.y=0}};